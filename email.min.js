document.addEventListener("DOMContentLoaded", function () {
  const form = document.getElementById("formulario");
  const telefoneInput = document.getElementById("telefone");

  // Limita a digitação do telefone para apenas números e até 11 dígitos
  telefoneInput.addEventListener("input", function () {
    let valor = this.value.replace(/\D/g, ""); // remove tudo que não for número
    if (valor.length > 11) valor = valor.slice(0, 11); // corta no máximo 11 dígitos
    this.value = valor;
  });

  // Valida e mostra popup ao enviar
  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const nome = document.getElementById("nome").value.trim();
    const telefone = telefoneInput.value.trim();

    if (nome.length < 2) {
      alert("Por favor, insira um nome válido.");
      return;
    }

    if (!/^\d{10,11}$/.test(telefone)) {
      alert("Por favor, insira um telefone válido com 10 ou 11 dígitos.");
      return;
    }

    alert("Contato enviado com sucesso!\nObrigado, " + nome + ".");
    form.reset();
  });
});
